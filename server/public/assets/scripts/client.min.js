/*! personal_project 2016-05-03 */
var app=angular.module("childcareApp",[]);app.controller("MainController",["$http",function(a){function b(){for(var a="dddd, MMMM D, h:mm a",b=0;b<c.requestList.length;b++)c.requestList[b].startDisplay=moment(c.requestList[b].start_time).format(a),c.requestList[b].endDisplay=moment(c.requestList[b].end_time).format(a)}var c=this;c.requestList=[],c.request={},c.coop={name:"Webster School ECFE"},c.user={id:8,first_name:"Suzanna",last_name:"Altman",phone:"612-517-3409",email:"suzannaaltman@gmail.com",coop_id:6},c.careRequest={start_time:new Date("May 6, 2016 10:30:00"),end_time:new Date("May 6, 2016 2:00:00"),requestor_id:8,caregiver_id:7,comments:"Mana still has the sniffles, will probably just want to read in bed"},c.addCoop=function(){a.post("/coops/add",c.coop)},c.addUser=function(){a.post("/users/add",c.user)},c.addRequest=function(){a.post("/requests/add",c.careRequest)},c.getOpenRequests=function(){a.get("/requests").then(function(a){c.requestList=a.data,b()})},c.test=function(a){console.log("IN TEST FUNCTION",a),$.ajax({method:"put",url:"/requests/assign",data:{request_id:a.id,user_id:c.user.id}}).done(function(a){c.getOpenRequests()})},c.getOpenRequests()}]);